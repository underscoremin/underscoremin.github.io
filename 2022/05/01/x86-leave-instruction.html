<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>‘leave’ Instruction | underscoremin</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="‘leave’ Instruction" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The leave instruction is actually a combination of a few individual instructions. Because the functionality provided by the atomic instructions within leave are required so often, leave was introduced to reduce the space taken up in the processor cache. The leave instruction is a combination of the following: ```nasm ; leave instruction equivilent" />
<meta property="og:description" content="The leave instruction is actually a combination of a few individual instructions. Because the functionality provided by the atomic instructions within leave are required so often, leave was introduced to reduce the space taken up in the processor cache. The leave instruction is a combination of the following: ```nasm ; leave instruction equivilent" />
<link rel="canonical" href="/2022/05/01/x86-leave-instruction" />
<meta property="og:url" content="/2022/05/01/x86-leave-instruction" />
<meta property="og:site_name" content="underscoremin" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-05-01T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="‘leave’ Instruction" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-05-01T00:00:00+00:00","datePublished":"2022-05-01T00:00:00+00:00","description":"The leave instruction is actually a combination of a few individual instructions. Because the functionality provided by the atomic instructions within leave are required so often, leave was introduced to reduce the space taken up in the processor cache. The leave instruction is a combination of the following: ```nasm ; leave instruction equivilent","headline":"‘leave’ Instruction","mainEntityOfPage":{"@type":"WebPage","@id":"/2022/05/01/x86-leave-instruction"},"url":"/2022/05/01/x86-leave-instruction"}</script>
<!-- End Jekyll SEO tag -->


<meta
  name="keywords"
  content="" />

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" href="/favicon.ico" />
<link
  rel="alternate"
  type="application/rss+xml"
  title="underscoremin - Mini security posts. "
  href="/feed.xml" />
<link
  rel="stylesheet"
  type="text/css"
  href="/assets/css/base.css" />
<link
  rel="stylesheet"
  type="text/css"
  href="/assets/css/highlight.css" />

<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize(
        {
            startOnLoad: true,
            theme: "base",
			'themeVariables': {
				'primaryColor': '#ba91ed',
			    'primaryTextColor': '#fff',
			    'primaryBorderColor': '#2b0061',
			    'lineColor': '#2b0061',
			    'secondaryColor': '#eae4ef',
			    'tertiaryColor': '#f2e8ff',
			    'tertiaryBorderColor': '#2b0061',
                'darkMode': true,
            },
            flowchart: {
                diagramPadding: 30,
                rankSpacing: 100,
                padding: 7,
                useMaxWidth: true
            }
        }

    );
</script>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
  async>
</script>



  </head>
  <body>
    <div class="container-wrapper">
      <header class="container-header">
        <div class="header-info">
  <span class="header-info-name">underscoremin</span>
  <span class="header-info-desc">Mini security posts. </span>
</div>
<nav class="header-nav">
  <ul class="header-main-nav">
    
    <li class="header-main-nav-item">
      <a href="/">
        
          Index
        
      </a>
    </li>
    
    <li class="header-main-nav-item">
      <a href="/categories">
        
          Categories
        
      </a>
    </li>
    
    <li class="header-main-nav-item">
      <a href="/about">
        
          About
        
      </a>
    </li>
    
  </ul>
</nav>

      </header>
      <main class="container-main">
        <article class="container-post">
  <div class="post-title">
    <h1>'leave' Instruction</h1>
  </div>
  
  <div class="post-author print-post-author">
    <span>_min</span>
  </div>
  
  <div class="post-content">
    <p><br /> 
The <em>leave</em> instruction is actually a combination of a few individual 
instructions. Because the functionality provided by the atomic instructions 
within leave are required so often, leave was introduced to reduce the space 
taken up in the processor cache. The leave instruction is a combination of the 
following: <br />
<br /></p>
<div class="language-nasm highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">; *leave* instruction equivilent </span>

<span class="nf">mov</span> <span class="nb">esp</span> <span class="nb">ebp</span>     <span class="c1">; This is destroying the stack frame by moving the stack pointer </span>
                <span class="c1">; (ESP) from where it is all the way to the base of the stack </span>
                <span class="c1">; frame essentially making the size of the stack frame 0 i.e. </span>
                <span class="c1">; it contains no addresses within the bounds of where ESP is </span>
                <span class="c1">; pointing to on the stack and where EBP is pointing to as they </span>
                <span class="c1">; are pointing to the same thing.</span>
                            
<span class="nf">pop</span> <span class="nb">ebp</span>         <span class="c1">; This is now restoring the value of EBP to be the previous </span>
                <span class="c1">; stack frame's base pointer.</span>
</code></pre></div></div>

  </div>
  <div class="post-info">
    <div class="post-date">
      Written on 
      2022-05-01
      
      .
    </div>
    
    <div class="post-author">
      Author: _min
    </div>
    
    <div class="post-categories">
      <span>Categories: </span>
      
      <a 
        href="/categories#x86"
        class="post-category">
        x86
      </a>
      
    </div>
    <div class="post-tags">
      <span>Tags: </span>
      
    </div>
    <div class="post-other">
      
      <div>
        <span>
          Next: 
        </span>
        <a href="/2022/05/01/x86-plt-got-linking-process">
          PLT -> GOT Linking Walkthrough
        </a>
      </div>
      
      
      <div>
        <span>
          Previous: 
        </span>
        <a href="/2022/05/01/x86-frame-prologues">
          Stack Frame Prologues
        </a>
      </div>
      
    </div>
    
  </div>
</article>

      </main>
      <footer class="container-footer">
        <div class="footer-copyright">
  <span class="footer-copyright-text float-left">
  </span>
</div>

      </footer>
    </div>
  </body>
</html>
